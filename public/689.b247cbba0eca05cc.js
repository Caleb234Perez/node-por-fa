"use strict";(self.webpackChunkminiProyecto2=self.webpackChunkminiProyecto2||[]).push([[689],{7689:(x,l,i)=>{i.r(l),i.d(l,{SinginModule:()=>Z});var u=i(6895),d=i(2011),s=i(4331),h=i(9260),n=i(4650),a=i(433),p=i(1205);function m(t,c){1&t&&(n.TgZ(0,"div")(1,"div",14)(2,"label",15),n._uU(3,"Email address"),n.qZA(),n._UZ(4,"input",16),n.qZA(),n.TgZ(5,"div",14)(6,"label",17),n._uU(7,"Password"),n.qZA(),n._UZ(8,"input",18),n.qZA()())}function f(t,c){1&t&&(n.TgZ(0,"div",14)(1,"label",17),n._uU(2,"Phone"),n.qZA(),n._UZ(3,"input",19),n.qZA())}const b=function(){return["/singup"]},C=[{path:"",component:(()=>{class t{constructor(o,r,e){this.fb=o,this.afAuth=r,this.router=e,this.tipodeIngreso=!0,this.iniciarSesion=this.fb.group({email:[""],password:[""],phone:[""]})}ngOnInit(){this.afAuth.authState.subscribe(o=>{console.log(o),o&&this.router.navigate(["/home"])})}cambiar(){this.tipodeIngreso=!this.tipodeIngreso}iniciar(){this.tipodeIngreso?this.inicioEmail():this.inicioPhone()}inicioEmail(){this.afAuth.signInWithEmailAndPassword(this.iniciarSesion.value.email,this.iniciarSesion.value.password).then(()=>{this.router.navigate(["/home"])}).catch(e=>{switch(console.log(e),console.log("Error en la autenticaci\xf3n:",e),e.code){case"auth/user-not-found":this.runError();break;case"auth/wrong-password":this.runError2()}})}inicioPhone(){const o=this.iniciarSesion.value.phone,r=new h.Z.auth.RecaptchaVerifier("recaptcha-container");this.afAuth.signInWithPhoneNumber(o,r).then(e=>{let g=window.prompt("Ingresa el c\xf3digo de verificaci\xf3n");return e.confirm(g)}).then(e=>{const g=e.user;this.router.navigate(["/home"]),console.log("Autenticaci\xf3n exitosa:",g)}).catch(e=>{switch(console.log("Error en la autenticaci\xf3n:",e),e.code){case"auth/user-not-found":this.runError();break;case"auth/wrong-password":this.runError2()}})}runError(){alertify.error("El usuario no existe.")}runError2(){alertify.error("Contrase\xf1a incorrecta.")}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(a.qu),n.Y36(p.zQ),n.Y36(s.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-singin"]],decls:25,vars:5,consts:[[1,"wrapper"],[1,"bodies"],["src","assets/login.png","alt","",1,"logo"],[3,"formGroup","ngSubmit"],["type","checkbox","id","checkbox",3,"change"],["for","checkbox",1,"toggle"],["id","bar1",1,"bars"],["id","bar2",1,"bars"],["id","bar3",1,"bars"],[4,"ngIf","ngIfElse"],["PhoneBlock",""],["type","submit",1,"btn","btn-primary","btn-lg","log-btn"],[3,"routerLink"],["id","recaptcha-container"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","aria-describedby","emailHelp","placeholder","Enter email","formControlName","email",1,"form-control"],["for","exampleInputPassword1"],["type","password","placeholder","Password","formControlName","password",1,"form-control","mb-"],["type","tel","placeholder","Phone","formControlName","phone",1,"form-control","mb-"]],template:function(o,r){if(1&o&&(n.TgZ(0,"head")(1,"title"),n._uU(2,"Iniciar Sesi\xf3n"),n.qZA()(),n.TgZ(3,"body")(4,"div",0)(5,"div",1),n._UZ(6,"img",2),n.TgZ(7,"h1"),n._uU(8," Login"),n.qZA()(),n.TgZ(9,"form",3),n.NdJ("ngSubmit",function(){return r.iniciar()}),n.TgZ(10,"input",4),n.NdJ("change",function(){return r.cambiar()}),n.qZA(),n.TgZ(11,"label",5),n._UZ(12,"div",6)(13,"div",7)(14,"div",8),n.qZA(),n.YNc(15,m,9,0,"div",9),n.YNc(16,f,4,0,"ng-template",null,10,n.W1O),n.TgZ(18,"button",11),n._uU(19,"Ingresar"),n.qZA()(),n.TgZ(20,"p"),n._uU(21,"\xbfAun no tienes cuenta?"),n.qZA(),n.TgZ(22,"a",12),n._uU(23,"Registrar"),n.qZA(),n._UZ(24,"div",13),n.qZA()()),2&o){const e=n.MAs(17);n.xp6(9),n.Q6J("formGroup",r.iniciarSesion),n.xp6(6),n.Q6J("ngIf",r.tipodeIngreso)("ngIfElse",e),n.xp6(7),n.Q6J("routerLink",n.DdM(4,b))}},dependencies:[u.O5,s.rH,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".wrapper[_ngcontent-%COMP%]{background-color:azure;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.bodies[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:10px;text-align:center}.log-btn[_ngcontent-%COMP%]{width:330px;margin-bottom:10px}#checkbox[_ngcontent-%COMP%]{display:none}.toggle[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;transition-duration:.5s}.bars[_ngcontent-%COMP%]{width:100%;height:4px;background-color:#b05cff;border-radius:4px}#bar2[_ngcontent-%COMP%]{transition-duration:.8s}#bar1[_ngcontent-%COMP%], #bar3[_ngcontent-%COMP%]{width:70%}#checkbox[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]{position:absolute;transition-duration:.5s}#checkbox[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]   #bar2[_ngcontent-%COMP%]{transform:scaleX(0);transition-duration:.5s}#checkbox[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]   #bar1[_ngcontent-%COMP%]{width:100%;transform:rotate(45deg);transition-duration:.5s}#checkbox[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]   #bar3[_ngcontent-%COMP%]{width:100%;transform:rotate(-45deg);transition-duration:.5s}#checkbox[_ngcontent-%COMP%]:checked + .toggle[_ngcontent-%COMP%]{transition-duration:.5s;transform:rotate(180deg)}"]}),t})()}];let P=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[s.Bz.forChild(C),s.Bz]}),t})();var M=i(2340);let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[u.ez,P,a.UX,d.hO.initializeApp(M.N.firebaseConfig)]}),t})()}}]);